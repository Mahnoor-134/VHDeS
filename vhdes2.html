<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="VHDeS.css" />
    <title>Document</title>
</head>

<body>

    <h1> Vi Hyr Dig elScooter!</h1>

    <h2 id="welcome">Välkommen!</h2>

    <h3>Här kan du hyra en elscooter
        Minst 5 minuter till max 2 timmar.
    </h3>

    <button id="val">Tid: </button>
    <div>
        <p>Ange starttid: <input type="time" id="starttid"></p>
        <p>Ange sluttid: <input type="time" id="sluttid"></p>
    </div>
    <div id="resultat"> </div>


    <button id="hyra"> Hyra </button>

    <p id="kvitto"> </p>

    <script>

        const params = new URLSearchParams(window.location.search);
        const text = document.getElementById("welcome");
        let username = params.get('username');
        if (username) {
            text.textContent = `Välkommen ${username}!`;
        }

        let timmer = null;
        let isAutoKnappActiv = false;
    


        const hyra = document.getElementById('hyra');
        const kvittoText = document.getElementById('kvitto');

        hyra.addEventListener('click', function () {

            const product = { name: 'elscoter', pris: '150 kr' };
            const tid = new Date().toLocaleTimeString();
            const date = new Date().toLocaleDateString();


            kvittoText.textContent = `Bokat! Du hyr nu en  ${product.name} för ${product.pris}. (Tid: ${tid}). (Datum: ${date})`;



            alert('Tack! Du har nu hyrt en ' + product.name + ' för ' + product.pris);

            console.log('Köp genomfört: ', product);


           

            if (!isAutoKnappActiv) {
                isAutoKnappActiv = true;
                clickInterval = setInterval(function () {
                    timmer++;

                    text.textContent = timmer;
                }, 1000);
                ;
            } else {

                isAutoKnappActiv = false;
                // isAutoKnappActiv = 6; 
                clearInterval(clickInterval);
            };

        });

        document.getElementById("val").addEventListener("click", function () {
            let start = document.getElementById('starttid').value;
            let slut = document.getElementById('sluttid').value;
            if(slut<5 || slut>2 ){
                alert("fel val"); 
            }
            if (start && slut) {
                document.getElementById("resultat").innerText = ` du har valt tiden: ${start} till ${slut}`;

            } else {
                alert("Vänligen fyll i båda tiderna först! ")
            }

        });






    </script>

    s
</body>

</html>